function fm_listen(e,o){jQuery(function($){var o=$("."+e+"-fmcta_element_order");o.sortable({placeholder:"ui-state-highlight",cursor:"move"}),o.disableSelection();var t=$("."+e+"-fmcta_landing_option"),i=$("."+e+"-fmcta_landing_href"),n=$("."+e+"-fmcta_feature_id"),a=$("."+e+"-fmcta_image_option"),c=$("."+e+"-fmcta_image_option_label"),l=$("."+e+"-fmcta_image_href"),s=$("."+e+"-fmcta_image_uploader"),d=$("."+e+"-tip-image"),f=$("."+e+"-fmcta_heading_title_option"),m=$("."+e+"-fmcta_heading_title_option_label"),u=$("#"+e+"-fmcta_heading_title_content"),_=$("."+e+"-fmcta_heading_custom_label"),h=$("."+e+"-fmcta_description_option"),r=$("."+e+"-fmcta_description_option_label"),g=$("."+e+"-fmcta_description_content"),p=$("."+e+"-fmcta_button_option"),k=$("."+e+"-fmcta_button_uploader"),w=$("."+e+"-fmcta_button_title_field"),v=$("#"+e+"-defaultTitle"),T=$("."+e+"-type"),b=$("."+e+"-type_link"),y=$("#"+e+"-linkURL"),j;"default"==t.val()?(i.hide(),n.show()):(i.show(),n.hide()),t.on("change",function(){"default"==$(this).val()?(i.hide(),n.show()):(i.show(),n.hide())}),"upload"==a.val()?(s.show(),d.hide()):"none"==a.val()?(d.show(),s.hide()):(d.hide(),s.hide()),a.on("change",function(){"upload"==$(this).val()?(s.show(),d.hide()):"none"==$(this).val()?(d.slideDown(),s.hide()):(s.hide(),d.hide())}),v.on("click",function(){v.attr("checked")&&featureMeTitle.attr("value",j)}),"custom"==f.val()?(_.show(),console.log("Custom Heading Title")):(_.hide(),console.log("NOT a Custom Heading Title")),f.on("change",function(){"custom"==$(this).val()?(_.show(),console.log("Custom Heading Title")):(_.hide(),console.log("NOT a Custom Heading Title")),j=$("#"+e+"-feature option:selected").text()}),"upload"==p.val()?(k.show(),w.hide()):k.hide(),p.on("change",function(){"upload"==$(this).val()?(k.show(),w.hide()):"none"==$(this).val()?(w.hide(),k.hide()):(w.show(),k.hide())}),"custom"==h.val()?g.show():g.hide(),h.on("change",function(){"custom"==$(this).val()?g.show():g.hide()}),"checked"==b.eq(0).attr("checked"),"checked"==b.eq(1).attr("checked"),"checked"==b.eq(2).attr("checked"),b.eq(0).on("click",function(){}),b.eq(1).on("click",function(){}),b.eq(2).on("click",function(){})})}function fm_cta_menu_reset_clicks(e){jQuery(function($){$("."+e+"-fm-option-1").unbind("click"),$("."+e+"-fm-option-2").unbind("click"),$("."+e+"-fm-option-3").unbind("click"),$("."+e+"-fm-option-4").unbind("click"),$("."+e+"-fm-option-5").unbind("click")})}function fm_cta_menu_click(e){jQuery(function($){$("."+e+"-fm-option-1").on("click",function(){$("."+e+"-fm-step-1-options").slideToggle(),$(this).toggleClass("fm-arrow-open"),console.log("Toggle "+e+"-fm-option-1")}),$("."+e+"-fm-option-2").on("click",function(){$("."+e+"-fm-step-2-options").slideToggle(),$(this).toggleClass("fm-arrow-open"),console.log("Toggle "+e+"-fm-option-1")}),$("."+e+"-fm-option-3").on("click",function(){$("."+e+"-fm-step-3-options").slideToggle(),$(this).toggleClass("fm-arrow-open"),console.log("Toggle "+e+"-fm-option-1")}),$("."+e+"-fm-option-4").on("click",function(){$("."+e+"-fm-step-4-options").slideToggle(),$(this).toggleClass("fm-arrow-open"),console.log("Toggle "+e+"-fm-option-1")}),$("."+e+"-fm-option-5").on("click",function(){$("."+e+"-fm-step-5-options").slideToggle(),$(this).toggleClass("fm-arrow-open"),console.log("Toggle "+e+"-fm-option-1")})})}function fmcta_image_uploader(e){var o=!0,t=wp.media.editor.send.attachment;jQuery("."+e+" .button").click(function(e){var i=wp.media.editor.send.attachment,n=jQuery(this),a=n.attr("id").replace("upload","image_href");return o=!0,wp.media.editor.send.attachment=function(e,i){return o?void jQuery("#"+a).val(i.url):t.apply(this,[e,i])},wp.media.editor.open(n),!1}),jQuery(".add_media").on("click",function(){o=!1})}function fmcta_get_ids(){jQuery(function($){var e=$('.widget:contains("feature_me")');e.length>1&&e.splice(0,1);for(var o=new Array,t=0;t<e.length;t++)o[t]=e.eq(t).attr("id");for(var t=0;t<o.length;t++)o[t]=o[t].replace(/widget-[0-9]*_/,"widget-"),fm_listen(o[t]),fm_cta_menu_reset_clicks(o[t]),fm_cta_menu_click(o[t])})}jQuery(document).ready(function($){fmcta_get_ids(),fmcta_image_uploader("fm-step-2-options"),fmcta_image_uploader("fm-step-4-options"),jQuery(document).ajaxSuccess(function(e,o,t){var i="feature_me";-1!=t.data.search("action=save-widget")&&-1!=t.data.search("id_base="+i)&&(fmcta_get_ids(),fmcta_image_uploader("fm-step-2-options"),fmcta_image_uploader("fm-step-4-options"))})});